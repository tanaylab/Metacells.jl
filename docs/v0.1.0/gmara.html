
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Gmara · Metacells.jl v0.1.0
</title>
<meta name="title" content="Gmara · Metacells.jl v0.1.0"/>
<meta property="og:title" content="Gmara · Metacells.jl v0.1.0"/>
<meta property="twitter:title" content="Gmara · Metacells.jl v0.1.0"/>
<meta name="description" content="Documentation for Metacells.jl v0.1.0."/>
<meta property="og:description" content="Documentation for Metacells.jl v0.1.0."/>
<meta property="twitter:description" content="Documentation for Metacells.jl v0.1.0."/>
<script data-outdated-warner src="assets/warner.js">
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/>
<script>documenterBaseURL="."
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js">
</script>
<script src="search_index.js">
</script>
<script src="siteinfo.js">
</script>
<script src="../versions.js">
</script>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/>
<link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/>
<script src="assets/themeswap.js">
</script>
</head>
<body>
<div id="documenter">
<nav class="docs-sidebar">
<div class="docs-package-name">
<span class="docs-autofit">
<a href="index.html">Metacells.jl v0.1.0
</a>
</span>
</div>
<button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)
</button>
<ul class="docs-menu">
<li>
<a class="tocitem" href="index.html">Metacells
</a>
</li>
<li class="is-active">
<a class="tocitem" href="gmara.html">Gmara
</a>
<ul class="internal">
<li>
<a class="tocitem" href="#Configuration">
<span>Configuration
</span>
</a>
</li>
<li>
<a class="tocitem" href="#Functions">
<span>Functions
</span>
</a>
</li>
<li>
<a class="tocitem" href="#Index">
<span>Index
</span>
</a>
</li>
</ul>
</li>
<li>
<a class="tocitem" href="contracts.html">Contracts
</a>
</li>
<li>
<a class="tocitem" href="identify_genes.html">Identify Genes
</a>
</li>
<li>
<a class="tocitem" href="programs.html">Programs
</a>
</li>
<li>
<a class="tocitem" href="anndata_format.html">AnnData Format
</a>
</li>
<li>
<a class="tocitem" href="defaults.html">Defaults
</a>
</li>
</ul>
<div class="docs-version-selector field has-addons">
<div class="control">
<span class="docs-label button is-static is-size-7">Version
</span>
</div>
<div class="docs-selector control is-expanded">
<div class="select is-fullwidth is-size-7">
<select id="documenter-version-selector">
</select>
</div>
</div>
</div>
</nav>
<div class="docs-main">
<header class="docs-navbar">
<a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#">
</a>
<nav class="breadcrumb">
<ul class="is-hidden-mobile">
<li class="is-active">
<a href="gmara.html">Gmara
</a>
</li>
</ul>
<ul class="is-hidden-tablet">
<li class="is-active">
<a href="gmara.html">Gmara
</a>
</li>
</ul>
</nav>
<div class="docs-right">
<a class="docs-navbar-link" href="https://github.com/tanaylab/Metacells.jl/blob/main{path}?plain=1#L{line}" title="View the repository on GitHub">
<span class="docs-icon fa-brands">
</span>
<span class="docs-label is-hidden-touch">GitHub
</span>
</a>
<a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings">
</a>
<a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings">
</a>
</div>
</header>
<article class="content" id="documenter-page">
<h1 id="Gmara">
<a class="docs-heading-anchor" href="#Gmara">Gmara
</a>
<a id="Gmara-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Gmara" title="Permalink">
</a>
</h1>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara" href="#Metacells.Gmara">
<code>Metacells.Gmara
</code>
</a> — 
<span class="docstring-category">Module
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<p>Access gene names lists from 
<a href="https://github.com/tanaylab/Gmara">Gmara
</a>.
</p>
<div class="admonition is-info">
<header class="admonition-header">Note
</header>
<div class="admonition-body">
<p>All the functions here are thread-safe and can also be invoked from multiple parallel processes using the same 
<a href="gmara.html#Metacells.Gmara.CACHE_DIR">
<code>CACHE_DIR
</code>
</a>. This directory can even be shared between multiple users as long as they have read-write permissions to the shared directory. This should even work on NFS mounted volumes shared between multiple servers.
</p>
</div>
</div>
</div>
</section>
</article>
<h2 id="Configuration">
<a class="docs-heading-anchor" href="#Configuration">Configuration
</a>
<a id="Configuration-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Configuration" title="Permalink">
</a>
</h2>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara.CACHE_DIR" href="#Metacells.Gmara.CACHE_DIR">
<code>Metacells.Gmara.CACHE_DIR
</code>
</a> — 
<span class="docstring-category">Constant
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<p>The default (
<code>$HOME/.cache/gmara
</code>) location of the cache of downloaded Gmara data files.
</p>
<p>You can override this by setting the 
<code>METACELLS_GMARA_CACHE_DIR
</code> environment variable, or by passing an explicit 
<code>cache_dir
</code> parameter to the functions.
</p>
<p>The top-level under this is the version indicator, where 
<code>main
</code> is always the latest and greatest version. Under each version we store the files in the same path as in github, with a 
<code>.gz
</code> suffix for the compressed raw data, 
<code>.jl_set.gz
</code> for serialized Julia set objects, and 
<code>.lock
</code> for temporary lock files for coordinating between parallel processes.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara.TIMEOUT" href="#Metacells.Gmara.TIMEOUT">
<code>Metacells.Gmara.TIMEOUT
</code>
</a> — 
<span class="docstring-category">Constant
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<p>The default timeout in seconds (10) for waiting for a lock file in the Gmara cache. If not positive, will wait forever. If a process crashes very badly then a lock file may be left behind and may need to be removed by hand to allow access for the data.
</p>
<p>You can override this by setting the 
<code>METACELLS_GMARA_TIMEOUT
</code> environment variable, or by passing an explicit 
<code>timeout
</code> parameter to the functions.
</p>
</div>
</section>
</article>
<h2 id="Functions">
<a class="docs-heading-anchor" href="#Functions">Functions
</a>
<a id="Functions-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink">
</a>
</h2>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara.normalize_gene_name" href="#Metacells.Gmara.normalize_gene_name">
<code>Metacells.Gmara.normalize_gene_name
</code>
</a> — 
<span class="docstring-category">Function
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">normalize_gene_name(name::AbstractString; namespace::AbstractString)::AbstractString
</code>
</pre>
<p>Normalize the a gene name in some namespace. In most namespaces, this means removing the 
<code>.[0-9]
</code> version suffix from the name, and converting the name to upper case. To lookup a name in a list or a namespace, you need to normalize the query gene name accordingly. The UCSC namespace is an exception in that it is all-lower-case and the 
<code>.[0-9]
</code> suffix seems to be an inherent part of the identifier.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara.gmara_genes" href="#Metacells.Gmara.gmara_genes">
<code>Metacells.Gmara.gmara_genes
</code>
</a> — 
<span class="docstring-category">Function
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">gmara_genes(;
    species::AbstractString,
    namespace::AbstractString,
    [list::Maybe{AbstractString} = nothing,
    version::AbstractString = &quot;main&quot;
    cache_dir = CACHE_DIR,
    timeout::Real = TIMEOUT],
)::AbstractSet{&lt;:AbstractString}
</code>
</pre>
<p>Return the set of names of a 
<code>version
</code> of a 
<code>list
</code> in a 
<code>namespace
</code> of genes of some 
<code>species
</code>. This returns all the names that are (probably) in the list; it a name isn&#39;t in the result, it is almost certain it does not belong in the list. As usual in Gmara, this includes everything that may be used as name, e.g. for Ensembl it includes genes, transcripts and proteins; for Symbol it includes approved and alises; etc. If the 
<code>list
</code> is 
<code>nothing
</code>, this just returns the set of known gene names in the 
<code>namespace
</code>.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara.set_gmara_genes_mask!" href="#Metacells.Gmara.set_gmara_genes_mask!">
<code>Metacells.Gmara.set_gmara_genes_mask!
</code>
</a> — 
<span class="docstring-category">Function
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">set_gmara_genes_mask!(
    daf::DafWriter;
    species::AbstractString,
    namespace::AbstractString,
    [list::Maybe{AbstractString} = nothing,
    gene_names::AbstractString = &quot;name&quot;,
    property::Maybe{AbstractString} = nothing,
    overwrite::Bool = false,
    cache_dir = CACHE_DIR,
    timeout::Real = TIMEOUT],
)::Nothing
</code>
</pre>
<p>Set a gene property mask in 
<code>daf
</code> based on some 
<code>version
</code> of a Gmara 
<code>list
</code> of some 
<code>namespace
</code> for some 
<code>species
</code>. We match the 
<code>gene_names
</code> (by default, just the unique names in the gene axis) with the list names and set the result mask as a per-gene 
<code>property
</code> (by default, 
<span>$is_$
</span>
<em>list
</em>). If 
<code>list
</code> is 
<code>nothing
</code>, this just marks the gene names that exist in the namespace. If 
<code>overwrite
</code>, this will overwrite an existing property of the.array same name.
</p>
</div>
</section>
</article>
<article class="docstring">
<header>
<a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring">
</a>
<a class="docstring-binding" id="Metacells.Gmara.empty_gmara_cache!" href="#Metacells.Gmara.empty_gmara_cache!">
<code>Metacells.Gmara.empty_gmara_cache!
</code>
</a> — 
<span class="docstring-category">Function
</span>
<span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring">
</span>
</header>
<section>
<div>
<pre>
<code class="language-julia hljs">empty_gmara_cache!()::Nothing
</code>
</pre>
<p>All requests are cached in-memory. This makes repeated requests cheap. This consumes some (modest amount of) memory; also, if the data in the server has been updated (which rarely happens), you will keep getting the old result. This function releases all the memory and forces all subsequent requests to query the server. In the common case the server tells us our disk cache data is up to date, we don&#39;t re-download it).
</p>
</div>
</section>
</article>
<h2 id="Index">
<a class="docs-heading-anchor" href="#Index">Index
</a>
<a id="Index-1">
</a>
<a class="docs-heading-anchor-permalink" href="#Index" title="Permalink">
</a>
</h2>
<ul>
<li>
<a href="gmara.html#Metacells.Gmara">
<code>Metacells.Gmara
</code>
</a>
</li>
<li>
<a href="gmara.html#Metacells.Gmara.CACHE_DIR">
<code>Metacells.Gmara.CACHE_DIR
</code>
</a>
</li>
<li>
<a href="gmara.html#Metacells.Gmara.TIMEOUT">
<code>Metacells.Gmara.TIMEOUT
</code>
</a>
</li>
<li>
<a href="gmara.html#Metacells.Gmara.empty_gmara_cache!">
<code>Metacells.Gmara.empty_gmara_cache!
</code>
</a>
</li>
<li>
<a href="gmara.html#Metacells.Gmara.gmara_genes">
<code>Metacells.Gmara.gmara_genes
</code>
</a>
</li>
<li>
<a href="gmara.html#Metacells.Gmara.normalize_gene_name">
<code>Metacells.Gmara.normalize_gene_name
</code>
</a>
</li>
<li>
<a href="gmara.html#Metacells.Gmara.set_gmara_genes_mask!">
<code>Metacells.Gmara.set_gmara_genes_mask!
</code>
</a>
</li>
</ul>
</article>
<nav class="docs-footer">
<a class="docs-footer-prevpage" href="index.html">« Metacells
</a>
<a class="docs-footer-nextpage" href="contracts.html">Contracts »
</a>
<div class="flexbox-break">
</div>
<p class="footer-message">Powered by 
<a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl
</a> and the 
<a href="https://julialang.org/">Julia Programming Language
</a>.
</p>
</nav>
</div>
<div class="modal" id="documenter-settings">
<div class="modal-background">
</div>
<div class="modal-card">
<header class="modal-card-head">
<p class="modal-card-title">Settings
</p>
<button class="delete">
</button>
</header>
<section class="modal-card-body">
<p>
<label class="label">Theme
</label>
<div class="select">
<select id="documenter-themepicker">
<option value="auto">Automatic (OS)
</option>
<option value="documenter-light">documenter-light
</option>
<option value="documenter-dark">documenter-dark
</option>
<option value="catppuccin-latte">catppuccin-latte
</option>
<option value="catppuccin-frappe">catppuccin-frappe
</option>
<option value="catppuccin-macchiato">catppuccin-macchiato
</option>
<option value="catppuccin-mocha">catppuccin-mocha
</option>
</select>
</div>
</p>
<hr/>
<p>This document was generated with 
<a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl
</a> version 1.7.0. Using Julia version 1.11.1.
</p>
</section>
<footer class="modal-card-foot">
</footer>
</div>
</div>
</div>
</body>
</html>
